import{r as c,j as e,A as u,O as h,s as f}from"./index-Gb6lN_tM.js";const p=30*60*1e3;function n(a){return`revista_article_${a}`}function g(a){try{const s=localStorage.getItem(n(a));if(!s)return null;const{article:t,timestamp:i}=JSON.parse(s);return Date.now()-i>p?(localStorage.removeItem(n(a)),null):t}catch{return null}}function b(a,s){try{localStorage.setItem(n(a),JSON.stringify({article:s,timestamp:Date.now()}))}catch{}}function N({slug:a}){const s=g(a),[t,i]=c.useState(s),[o,d]=c.useState(!s);if(c.useEffect(()=>{async function l(){const{data:r,error:m}=await f.from("articles").select("*").eq("slug",a).maybeSingle();m?console.error("Error fetching article:",m):r&&(i(r),b(a,r)),d(!1)}l()},[a]),o)return e.jsx(u,{});if(!t)return e.jsx("div",{className:"container-revista py-section",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx("h1",{className:"font-serif text-4xl font-bold text-revista-black mb-4",children:"Articol negăsit"}),e.jsx("p",{className:"text-revista-text/60",children:"Ne pare rău, articolul pe care îl căutați nu există."})]})});const x=new Date(t.published_at).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric"});return e.jsx("article",{className:"container-revista py-section",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h1",{className:"font-serif text-3xl md:text-4xl lg:text-5xl font-bold text-revista-black mb-6 md:mb-8 leading-tight",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-3 text-sm text-revista-text/70 mb-6 md:mb-8",children:[e.jsx("span",{className:"font-medium text-revista-black",children:t.author}),e.jsx("span",{className:"hidden md:inline",children:"•"}),e.jsx("time",{dateTime:t.published_at,className:"block md:inline",children:x}),e.jsx("span",{children:"•"}),e.jsx("a",{href:`#/${t.category.toLowerCase()}`,className:"text-revista-gold min-h-[44px] flex items-center",children:t.category})]}),e.jsx("div",{className:"border-t border-revista-text/10 mb-6 md:mb-8"}),t.image_url&&e.jsx(h,{src:t.image_url,alt:t.title,size:"large",priority:!0,className:"w-full aspect-[4/3] md:aspect-[16/9] mb-8 md:mb-12"}),e.jsx("div",{className:"prose prose-lg max-w-none",children:t.content.split(`

`).map((l,r)=>e.jsx("p",{className:"text-revista-text leading-[1.8] md:leading-relaxed mb-5 md:mb-6 text-base md:text-lg",children:l},r))})]})})}export{N as default};
