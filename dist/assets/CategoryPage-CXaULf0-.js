import{r as n,j as e,C as v,O as c,s as j}from"./index-Gb6lN_tM.js";const N=10*60*1e3;function o(t){return`revista_category_${t}`}function b(t){try{const a=localStorage.getItem(o(t));if(!a)return null;const{articles:i,timestamp:r}=JSON.parse(a);return Date.now()-r>N?(localStorage.removeItem(o(t)),null):i}catch{return null}}function k(t,a){try{localStorage.setItem(o(t),JSON.stringify({articles:a,timestamp:Date.now()}))}catch{}}function S({category:t,description:a}){const i=b(t),[r,g]=n.useState(i||[]),[h,p]=n.useState(!i);if(n.useEffect(()=>{async function s(){const{data:x,error:m}=await j.from("articles").select("*").eq("category",t).order("published_at",{ascending:!1});m?console.error("Error fetching articles:",m):(g(x||[]),k(t,x||[])),p(!1)}s()},[t]),h)return e.jsx(v,{category:t,description:a});if(r.length===0)return e.jsxs("div",{className:"container-revista py-section",children:[e.jsxs("div",{className:"max-w-3xl mb-12",children:[e.jsx("h1",{className:"font-serif text-5xl md:text-6xl font-bold text-revista-black mb-6",children:t}),e.jsx("p",{className:"text-lg text-revista-text/80 leading-relaxed",children:a})]}),e.jsx("div",{className:"text-center text-revista-text/60",children:"Nu există articole în această categorie."})]});const l=r[0],u=r.slice(1,3),f=r.slice(3,5),d=r.slice(5);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container-revista py-section",children:[e.jsxs("div",{className:"max-w-3xl mb-12",children:[e.jsx("h1",{className:"font-serif text-5xl md:text-6xl font-bold text-revista-black mb-6",children:t}),e.jsx("p",{className:"text-lg text-revista-text/80 leading-relaxed",children:a})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10 lg:gap-6 mb-16",children:[e.jsx("div",{className:"lg:col-span-3 space-y-10 lg:space-y-8 order-2 lg:order-1",children:u.map(s=>e.jsxs("a",{href:`#/article/${s.slug}`,className:"group cursor-pointer block pb-2",children:[e.jsx(c,{src:s.image_url,alt:s.title,size:"small",hoverScale:!0,className:"w-full aspect-[4/5] md:aspect-[3/4] mb-4"}),e.jsxs("div",{className:"space-y-3 text-center",children:[e.jsx("p",{className:"text-xs font-sans uppercase tracking-wider text-revista-gold",children:t}),e.jsx("h3",{className:"font-serif text-xl font-medium text-revista-black leading-tight group-hover:text-revista-gold transition-colors",children:s.title}),e.jsxs("p",{className:"text-xs font-sans uppercase tracking-wide text-revista-text/60",children:["De ",s.author]})]})]},s.id))}),e.jsx("div",{className:"lg:col-span-6 order-1 lg:order-2",children:e.jsxs("a",{href:`#/article/${l.slug}`,className:"group cursor-pointer block lg:h-full pb-2 lg:pb-0",children:[e.jsx(c,{src:l.image_url,alt:l.title,size:"large",priority:!0,hoverScale:!0,hoverDuration:700,className:"w-full aspect-[4/5] lg:h-full lg:aspect-auto lg:min-h-full"}),e.jsxs("div",{className:"space-y-3 text-center mt-4 lg:hidden",children:[e.jsx("p",{className:"text-xs font-sans uppercase tracking-wider text-revista-gold",children:t}),e.jsx("h3",{className:"font-serif text-2xl font-medium text-revista-black leading-tight group-hover:text-revista-gold transition-colors",children:l.title}),e.jsxs("p",{className:"text-xs font-sans uppercase tracking-wide text-revista-text/60",children:["De ",l.author]})]})]})}),e.jsx("div",{className:"lg:col-span-3 space-y-10 lg:space-y-8 order-3",children:f.map(s=>e.jsxs("a",{href:`#/article/${s.slug}`,className:"group cursor-pointer block pb-2",children:[e.jsx(c,{src:s.image_url,alt:s.title,size:"small",hoverScale:!0,className:"w-full aspect-[4/5] md:aspect-[3/4] mb-4"}),e.jsxs("div",{className:"space-y-3 text-center",children:[e.jsx("p",{className:"text-xs font-sans uppercase tracking-wider text-revista-gold",children:t}),e.jsx("h3",{className:"font-serif text-xl font-medium text-revista-black leading-tight group-hover:text-revista-gold transition-colors",children:s.title}),e.jsxs("p",{className:"text-xs font-sans uppercase tracking-wide text-revista-text/60",children:["De ",s.author]})]})]},s.id))})]})]}),d.length>0&&e.jsx("div",{className:"bg-revista-ivory py-section",children:e.jsxs("div",{className:"container-revista",children:[e.jsx("div",{className:"border-t border-revista-separator pt-6 mb-12",children:e.jsxs("h2",{className:"font-sans text-lg uppercase tracking-[0.3em] text-revista-black font-medium text-center",children:["Mai multe articole din ",t]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 md:gap-8",children:d.map(s=>e.jsxs("a",{href:`#/article/${s.slug}`,className:"group cursor-pointer block pb-2",children:[e.jsx(c,{src:s.image_url,alt:s.title,size:"medium",hoverScale:!0,className:"w-full aspect-[4/5] mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-sans uppercase tracking-wider text-revista-gold",children:t}),e.jsx("h3",{className:"font-serif text-lg font-medium text-revista-black leading-tight group-hover:text-revista-gold transition-colors line-clamp-3",children:s.title}),e.jsxs("p",{className:"text-xs font-sans uppercase tracking-wide text-revista-text/60",children:["De ",s.author]})]})]},s.id))})]})})]})}export{S as C};
